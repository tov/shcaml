<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<link rel="stylesheet" href="style.css" type="text/css">
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="Start" href="index.html">
<link rel="next" href="Adaptor.html">
<link rel="Up" href="index.html">
<link title="Index of types" rel=Appendix href="index_types.html">
<link title="Index of exceptions" rel=Appendix href="index_exceptions.html">
<link title="Index of values" rel=Appendix href="index_values.html">
<link title="Index of class methods" rel=Appendix href="index_methods.html">
<link title="Index of class types" rel=Appendix href="index_class_types.html">
<link title="Index of modules" rel=Appendix href="index_modules.html">
<link title="Index of module types" rel=Appendix href="index_module_types.html">
<link title="Abort" rel="Chapter" href="Abort.html">
<link title="Adaptor" rel="Chapter" href="Adaptor.html">
<link title="AnyShtream" rel="Chapter" href="AnyShtream.html">
<link title="Channel" rel="Chapter" href="Channel.html">
<link title="Delimited" rel="Chapter" href="Delimited.html">
<link title="DepDAG" rel="Chapter" href="DepDAG.html">
<link title="Disposal" rel="Chapter" href="Disposal.html">
<link title="Fitting" rel="Chapter" href="Fitting.html">
<link title="FittingSig" rel="Chapter" href="FittingSig.html">
<link title="Flags" rel="Chapter" href="Flags.html">
<link title="IVar" rel="Chapter" href="IVar.html">
<link title="Line" rel="Chapter" href="Line.html">
<link title="LineShtream" rel="Chapter" href="LineShtream.html">
<link title="PriorityQueue" rel="Chapter" href="PriorityQueue.html">
<link title="Proc" rel="Chapter" href="Proc.html">
<link title="Reader" rel="Chapter" href="Reader.html">
<link title="Shtream" rel="Chapter" href="Shtream.html">
<link title="Signal" rel="Chapter" href="Signal.html">
<link title="StringShtream" rel="Chapter" href="StringShtream.html">
<link title="Util" rel="Chapter" href="Util.html">
<link title="UsrBin" rel="Chapter" href="UsrBin.html">
<link title="Version" rel="Chapter" href="Version.html">
<link title="WeakPlus" rel="Chapter" href="WeakPlus.html"><title>Shcaml : Abort</title>
</head>
<body>
<div class="navbar">&nbsp;<a class="up" href="index.html" title="Index">Up</a>
&nbsp;<a class="post" href="Adaptor.html" title="Adaptor">Next</a>
</div>
<h1>Module <a href="type_Abort.html">Abort</a></h1>

<pre><span class="keyword">module</span> Abort: <code class="code"><span class="keyword">sig</span></code> <a href="Abort.html">..</a> <code class="code"><span class="keyword">end</span></code></pre><div class="info module top">
Protocol to discard the current continuation and replace it
  with a thunk.  In short, <code class="code"><span class="constructor">E</span>[&nbsp;abort&nbsp;<span class="constructor">M</span>&nbsp;]&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;<span class="constructor">M</span>&nbsp;()</code>
<p>

 Often we want to fork a child process with a limited task, after
 which it should exit.  The idea of <a href="Abort.html#VALabort"><code class="code"><span class="constructor">Abort</span>.abort</code></a> is that it enforces
 that control does not escape the given thunk.  Furthermore, calling
 <a href="Abort.html#VALset_abort"><code class="code"><span class="constructor">Abort</span>.set_abort</code></a> high up the stack enables memory that is no longer
 in use to be recovered on the next GC.  (Obviously you don't want to
 do this if you're about to exec, since you'll destroy copy-on-write
 efficiency, but if you're going to fork and then stick around a
 while, it might be worthwhile.)<br>
</div>
<hr width="100%">

<pre><span id="VALabort"><span class="keyword">val</span> abort</span> : <code class="type">(unit -> unit) -> 'a</code></pre><div class="info ">
Abort the current continuation, replacing it with a thunk.
 This function doesn't return.<br>
</div>

<pre><span id="VALset_abort"><span class="keyword">val</span> set_abort</span> : <code class="type">(unit -> 'a) -> 'a</code></pre><div class="info ">
Set the abort handler if none is set.  Call this as soon as possible
 in a program, so that the rest is in its dynamic extent, and then
 <a href="Abort.html#VALabort"><code class="code"><span class="constructor">Abort</span>.abort</code></a> can throw control there.<br>
</div>
</body></html>